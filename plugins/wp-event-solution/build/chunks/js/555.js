"use strict";(self.webpackChunkwp_event_solution=self.webpackChunkwp_event_solution||[]).push([[555],{12824:(e,t,n)=>{n.d(t,{A:()=>a});const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"}},12226:(e,t,n)=>{n.d(t,{A:()=>v});var a=n(58168),r=n(3453),l=n(64467),o=n(80045),i=n(51609),s=n(46942),c=n.n(s),m=n(87463),d=n(61053),u=n(96020),p=n(42225),g=n(42860),h=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];(0,p.i)(m.blue.primary);var _=i.forwardRef((function(e,t){var n=e.className,s=e.icon,m=e.spin,p=e.rotate,_=e.tabIndex,v=e.onClick,f=e.twoToneColor,A=(0,o.A)(e,h),E=i.useContext(d.A),y=E.prefixCls,C=void 0===y?"anticon":y,k=E.rootClassName,x=c()(k,C,(0,l.A)((0,l.A)({},"".concat(C,"-").concat(s.name),!!s.name),"".concat(C,"-spin"),!!m||"loading"===s.name),n),b=_;void 0===b&&v&&(b=-1);var w=p?{msTransform:"rotate(".concat(p,"deg)"),transform:"rotate(".concat(p,"deg)")}:void 0,S=(0,g.al)(f),T=(0,r.A)(S,2),z=T[0],N=T[1];return i.createElement("span",(0,a.A)({role:"img","aria-label":s.name},A,{ref:t,tabIndex:b,onClick:v,className:x}),i.createElement(u.A,{icon:s,primaryColor:z,secondaryColor:N,style:w}))}));_.displayName="AntdIcon",_.getTwoToneColor=p.O,_.setTwoToneColor=p.i;const v=_},96020:(e,t,n)=>{n.d(t,{A:()=>m});var a=n(80045),r=n(89379),l=n(51609),o=n(42860),i=["icon","className","onClick","style","primaryColor","secondaryColor"],s={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1},c=function(e){var t=e.icon,n=e.className,c=e.onClick,m=e.style,d=e.primaryColor,u=e.secondaryColor,p=(0,a.A)(e,i),g=l.useRef(),h=s;if(d&&(h={primaryColor:d,secondaryColor:u||(0,o.Em)(d)}),(0,o.lf)(g),(0,o.$e)((0,o.P3)(t),"icon should be icon definiton, but got ".concat(t)),!(0,o.P3)(t))return null;var _=t;return _&&"function"==typeof _.icon&&(_=(0,r.A)((0,r.A)({},_),{},{icon:_.icon(h.primaryColor,h.secondaryColor)})),(0,o.cM)(_.icon,"svg-".concat(_.name),(0,r.A)((0,r.A)({className:n,onClick:c,style:m,"data-icon":_.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},p),{},{ref:g}))};c.displayName="IconReact",c.getTwoToneColors=function(){return(0,r.A)({},s)},c.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;s.primaryColor=t,s.secondaryColor=n||(0,o.Em)(t),s.calculated=!!n};const m=c},42225:(e,t,n)=>{n.d(t,{O:()=>i,i:()=>o});var a=n(3453),r=n(96020),l=n(42860);function o(e){var t=(0,l.al)(e),n=(0,a.A)(t,2),o=n[0],i=n[1];return r.A.setTwoToneColors({primaryColor:o,secondaryColor:i})}function i(){var e=r.A.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}},80635:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(58168),r=n(51609),l=n(12824),o=n(12226),i=function(e,t){return r.createElement(o.A,(0,a.A)({},e,{ref:t,icon:l.A}))};const s=r.forwardRef(i)},3087:(e,t,n)=>{n.d(t,{A:()=>E});var a=n(51609),r=n(29491),l=n(47143),o=n(86087),i=n(27723),s=n(52619),c=n(60742),m=n(47152),d=n(16370),u=n(500),p=n(13444),g=n(10012),h=n(91807),_=n(64282),v=n(70164);const f=(0,l.withSelect)((e=>{const t=e("eventin/global");return{speakerCategories:t.getSpeakerCategories(),isLoading:t.isResolving("getSpeakerCategories")}})),A=(0,l.withDispatch)((e=>{const t=e("eventin/global");return{refreshSpeakerList:()=>t.invalidateResolution("getSpeakerList")}})),E=(0,r.compose)(f,A)((e=>{const{modalOpen:t,setModalOpen:n,speakerCategories:r,refreshSpeakerList:l,formType:f}=e,[A]=c.A.useForm(),[E,y]=(0,o.useState)(!1),C="organizer"===f;return(0,a.createElement)(u.A,{title:(0,i.__)(`Add New ${C?"Organizer":"Speaker"} `,"eventin"),open:t,onCancel:()=>n(!1),cancelText:(0,i.__)("Cancel","eventin"),okText:(0,i.__)(`Add ${C?"Organizer":"Speaker"} `,"eventin"),onOk:async()=>{y(!0);try{await A.validateFields();const e={...A.getFieldsValue(!0),category:C?["organizer"]:["speaker"]},t=await _.A.speakers.createSpeaker(e);t?.id&&(l(),n(!1),(0,s.doAction)("eventin_notification",{type:"success",message:(0,i.__)("Successfully Created "+(C?"Organizer":"Speaker"),"eventin")}))}catch(e){console.log("error message:",e),(0,s.doAction)("eventin_notification",{type:"error",message:e?.message})}finally{y(!1)}},confirmLoading:E,destroyOnClose:!0,styles:{body:{height:"70vh",overflowY:"auto",overflowX:"hidden",scrollbarWidth:"thin"}}},(0,a.createElement)(c.A,{layout:"vertical",form:A,scrollToFirstError:!0,preserve:!1},(0,a.createElement)(m.A,{gutter:[10,0],style:{paddingRight:"4px"}},(0,a.createElement)(d.A,{xs:24},(0,a.createElement)(c.A.Item,{name:"name",label:(0,i.__)((C?"Organizer":"Speaker")+" name","eventin"),rules:[{required:!0,message:(C?"Organizer":"Speaker")+" name is required!"}]},(0,a.createElement)(g.ks,{placeholder:(0,i.__)("Name of "+(C?"organizer":"speaker"),"eventin"),size:"middle"}))),(0,a.createElement)(d.A,{md:12,xs:24},(0,a.createElement)(c.A.Item,{name:"designation",label:"Job Title"},(0,a.createElement)(g.ks,{placeholder:(0,i.__)("Designation of "+(C?"organizer":"speaker"),"eventin")}))),(0,a.createElement)(d.A,{md:12,xs:24},(0,a.createElement)(c.A.Item,{name:"speaker_group",label:(0,i.__)((C?"Organizer":"Speaker")+" Group","eventin"),rules:[{required:!0,message:"Speaker group is required!"}]},(0,a.createElement)(p.A,{options:r,placeholder:(0,i.__)(`Select ${C?"organizer":"speaker"} group`,"eventin"),fieldNames:{label:"name",value:"id"}},(0,a.createElement)(v.A,null)))),(0,a.createElement)(d.A,{md:12,xs:24},(0,a.createElement)(c.A.Item,{name:"email",label:(0,i.__)("Email address","eventin"),rules:[{required:!0,type:"email",message:(0,i.__)("Please enter valid email address!","eventin")}]},(0,a.createElement)(g.ks,{placeholder:(0,i.__)("Email address of "+(C?"organizer":"speaker"),"eventin")}))),(0,a.createElement)(d.A,{md:12,xs:24},(0,a.createElement)(c.A.Item,{name:"company_name",label:(0,i.__)("Company name","eventin")},(0,a.createElement)(g.ks,{placeholder:(0,i.__)("Company name","eventin")}))),(0,a.createElement)(d.A,{xs:24},(0,a.createElement)("p",{style:{marginBottom:"8px",fontSize:"16px",fontWeight:600,color:"#334155"}},(0,i.__)((C?"Organizer":"Speaker")+" photo","eventin")),(0,a.createElement)(h.nz,{form:A,name:"image"})))))}))},70164:(e,t,n)=>{n.d(t,{A:()=>p});var a=n(51609),r=n(86087),l=n(27723),o=n(29491),i=n(47143),s=n(92911),c=n(7638),m=n(10012),d=n(64282);const u=(0,i.withDispatch)((e=>{const t=e("eventin/global");return{refreshCategoryList:()=>t.invalidateResolution("getSpeakerCategories")}})),p=(0,o.compose)(u)((e=>{const{refreshCategoryList:t}=e,[n,o]=(0,r.useState)(null),[i,u]=(0,r.useState)(!1),p=async()=>{u(!0);try{await d.A.speakerCategories.createCategory({name:n}),o(null),t()}catch(e){console.error("Couldn't create speaker category!"),console.error(e.message)}finally{u(!1)}};return(0,a.createElement)(s.A,{gap:5},(0,a.createElement)(m.ks,{placeholder:(0,l.__)("New Group Name","eventin"),value:n,onChange:e=>{o(e.target.value)},onPressEnter:p}),(0,a.createElement)(c.Ay,{variant:c.zB,onClick:p,loading:i},(0,l.__)("Add New","eventin")))}))},9555:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var a=n(51609),r=n(56427),l=n(86087),o=n(27723),i=n(52619),s=n(69815),c=n(60742),m=n(92911),d=n(47152),u=n(16370),p=n(428),g=n(54861),h=n(32099),_=n(74353),v=n.n(_),f=n(47767),A=n(54725),E=n(7638),y=n(94790),C=n(79664),k=n(18062),x=(n(48842),n(10012)),b=n(57237),w=n(27154),S=n(6836),T=n(64282),z=(n(44278),n(93015));const N=s.default.div`
	background-color: #ffffff;
	border: 1px solid #e1e4e9;
	border-radius: 8px;
	padding: 20px 40px;
	margin-top: 40px;
`,F=function(){const[e]=c.A.useForm(),{id:t}=(0,f.useParams)(),n=(0,f.useNavigate)(),s=!!t,[_,F]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{s&&!_&&(F(!0),T.A.schedule.singleSchedule(t).then((t=>{const n={...t,date:v()(t.date)};e.setFieldsValue(n)})).finally((()=>{F(!1)})))}),[]),(0,a.createElement)("div",{style:{backgroundColor:"#F3F5F7",marginTop:"-20px",paddingBottom:"20px",minHeight:"100vh"}},(0,a.createElement)(r.Fill,{name:w.PRIMARY_HEADER_NAME},(0,a.createElement)(m.A,{justify:"space-between",align:"center"},(0,a.createElement)(m.A,{align:"center",gap:16},(0,a.createElement)(E.Ay,{variant:E.Vt,icon:(0,a.createElement)(A.AngleLeftIcon,null),sx:{height:"36px",width:"36px",backgroundColor:"#fafafa",borderColor:"transparent",lineHeight:"1"},onClick:()=>{n("/schedules")}}),(0,a.createElement)(k.A,{title:s?(0,o.__)("Edit Schedule","eventin"):(0,o.__)("New Schedule","eventin")})),(0,a.createElement)(C.A,null))),(0,a.createElement)(d.A,{gutter:[16,10],justify:"center",style:{margin:"20px 0px"},className:"eventin-schedule-form-wrapper"},(0,a.createElement)(u.A,{xs:22,md:14,className:"eventin-schedule-form-container"},(0,a.createElement)(b.A,{level:3,style:{fontSize:"24px",height:"32px"}},s?(0,o.__)("Edit Schedule","eventin"):(0,o.__)("Create New Schedule","eventin")),(0,a.createElement)(N,null,_&&(0,a.createElement)(m.A,{justify:"center",align:"center",style:{minHeight:"320px"}},(0,a.createElement)(p.A,null)),!_&&(0,a.createElement)(c.A,{layout:"vertical",form:e,scrollToFirstError:!0,size:"large",onFinish:async()=>{F(!0);try{await e.validateFields();const a=e.getFieldsValue(!0);if(a.date=(0,S.dateFormatter)(a.date),s){const e=await T.A.schedule.updateSchedule(t,a);if(!e?.id)throw new Error((0,o.__)("Couldn't edit schedule properly!","eventin"));n("/schedules"),(0,i.doAction)("eventin_notification",{type:"success",message:(0,o.__)("Successfully updated the schedule!","eventin")})}else{const e=await T.A.schedule.createSchedule(a);if(!e?.id)throw new Error((0,o.__)("Couldn't create schedule properly!","eventin"));n("/schedules"),(0,i.doAction)("eventin_notification",{type:"success",message:(0,o.__)("Successfully created the schedule!","eventin")})}}catch(e){console.error((0,o.__)("Couldn't create schedule!","eventin")),console.error(e)}finally{F(!1)}},initialValues:{schedule_slot:[""]}},(0,a.createElement)(d.A,{gutter:[16,0]},(0,a.createElement)(u.A,{xs:24,md:12},(0,a.createElement)(x.ks,{name:"program_title",label:(0,o.__)("Program Title","eventin"),rules:[{required:!0,message:(0,o.__)("Program title is required!","eventin")}],required:!0,placeholder:(0,o.__)("Program title","eventin"),size:"large"})),(0,a.createElement)(u.A,{xs:24,md:12},(0,a.createElement)(c.A.Item,{name:"date",label:(0,o.__)("Date","eventin"),rules:[{required:!0,message:(0,o.__)("Program date is required!","eventin")}]},(0,a.createElement)(g.A,{size:"large",minDate:v()(new Date),style:{width:"100%"},format:(0,S.getDateFormat)()})))),(0,a.createElement)(d.A,{gutter:[16,0]},(0,a.createElement)(u.A,{xs:24},(0,a.createElement)(m.A,{align:"center"},(0,a.createElement)("p",{style:{margin:"5px 0px",fontSize:"16px",fontWeight:500}},(0,o.__)("Schedule Topics","eventin")),(0,a.createElement)(h.A,{title:(0,o.__)("Give attendees a sneak peek at the key topics your event will address.","eventin")},(0,a.createElement)("span",{style:{marginLeft:"7px"}},(0,a.createElement)(A.InfoCircleOutlined,{width:15,height:15})))),(0,a.createElement)(c.A.List,{name:"schedule_slot",label:(0,o.__)("Schedule Topics","eventin")},((t,{add:n,remove:r},{errors:l})=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)(z.A,{fields:t,form:e,remove:r}),(0,a.createElement)(c.A.Item,null,(0,a.createElement)(y.A,null,(0,a.createElement)(E.Ay,{variant:E.Rm,onClick:()=>n(),icon:(0,a.createElement)(A.PlusOutlined,{width:16,height:16}),size:"middle",sx:{width:"100%",fontSize:"14px",fontWeight:500,height:"36px"}},(0,o.__)("Add Topic","eventin"))))))))),(0,a.createElement)(m.A,{gap:16},(0,a.createElement)(E.Ay,{variant:E.zB,loading:_,htmlType:"submit"},s?(0,o.__)("Update Schedule","eventin"):(0,o.__)("Create Schedule","eventin")),(0,a.createElement)(E.Ay,{variant:E.Rm,htmlType:"reset",onClick:()=>n("/schedules")},(0,o.__)("Cancel","eventin"))))))))}},44278:(e,t,n)=>{n.d(t,{A:()=>E});var a=n(51609),r=n(27723),l=n(86087),o=n(69815),i=n(62567),s=n(60742),c=n(47152),m=n(16370),d=n(79888),u=n(54725),p=n(7638),g=n(78847),h=n(37845),_=n(10012),v=n(6836),f=n(3087);const A=(0,o.default)(i.A)`
	.ant-collapse-content-box {
		background-color: #f5f5f5;
	}
`,E=e=>{const{form:t,field:n,remove:o}=e,[i,E]=(0,l.useState)(!1),[y,C]=(0,l.useState)(!1),[k,x]=(0,l.useState)(!1),b=[({getFieldValue:e})=>({validator(t,a){const r=e(["schedule_slot",n.name,"etn_shedule_end_time"]);if(r){const e=(0,v.getFormattedDateTime)({time:a});if((0,v.getFormattedDateTime)({time:r}).isBefore(e,"minutes"))return Promise.reject("Start time must be before end time")}return Promise.resolve()}})],w=[({getFieldValue:e})=>({validator(t,a){const l=e(["schedule_slot",n.name,"etn_shedule_start_time"]);if(l){const e=(0,v.getFormattedDateTime)({time:l});if((0,v.getFormattedDateTime)({time:a}).isBefore(e,"minutes"))return Promise.reject((0,r.__)("End time must be after start time","eventin"))}return Promise.resolve()}})],S=[{key:1,label:s.A.useWatch(["schedule_slot",n.name,"etn_schedule_topic"],{form:t,preserve:!0})||(0,r.__)("New Schedule Topic","eventin"),children:(0,a.createElement)(c.A,{gutter:[20,0]},(0,a.createElement)(m.A,{xs:24},(0,a.createElement)(_.ks,{name:[n.name,"etn_schedule_topic"],label:(0,r.__)("Topic Name","eventin")})),(0,a.createElement)(m.A,{md:12,xs:24},(0,a.createElement)(g.A,{name:[n.name,"etn_shedule_start_time"],label:(0,r.__)("Start Time","eventin"),rules:b,dependencies:[["schedule_slot",n.name,"etn_shedule_end_time"]]})),(0,a.createElement)(m.A,{md:12,xs:24},(0,a.createElement)(g.A,{name:[n.name,"etn_shedule_end_time"],label:(0,r.__)("End Time","eventin"),dependencies:[["schedule_slot",n.name,"etn_shedule_start_time"]],rules:w})),(0,a.createElement)(m.A,{md:12,xs:24},(0,a.createElement)(s.A.Item,{name:[n.name,"speakers"],label:(0,r.__)("Speaker","eventin")},(0,a.createElement)(h.A,{placeholder:(0,r.__)("Select the speakers for this event","eventin")},(0,a.createElement)(p.yl,{onClick:()=>E(!0)},(0,r.__)("Add new speakers","eventin"))))),(0,a.createElement)(m.A,{md:12,xs:24},(0,a.createElement)(_.ks,{prefix:(0,a.createElement)(u.LocationOutlined,null),name:[n.name,"etn_shedule_room"],label:(0,r.__)("Location","eventin")})),(0,a.createElement)(m.A,{xs:24},(0,a.createElement)(s.A.Item,{name:[n.name,"etn_shedule_objective"],label:(0,r.__)("Description","eventin")},(0,a.createElement)(d.A.TextArea,{className:"eventin-text-area",rows:3}))),(0,a.createElement)(f.A,{modalOpen:i,setModalOpen:E})),extra:k&&(0,a.createElement)(p.Ay,{variant:p.qy,icon:(0,a.createElement)(u.DeleteOutlined,{stroke:y?"#FF4D4F":"#747474"}),onClick:()=>o(n.name),onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),size:"small"})}];return(0,a.createElement)(A,{expandIconPosition:"end",className:"etn-schedule-topic",items:S,style:{margin:"15px 0px"},accordion:!0,defaultActiveKey:[1],onChange:e=>x(!e?.length)})}},64463:(e,t,n)=>{n.d(t,{X:()=>m});var a=n(51609),r=n(43627),l=n(74979),o=n(69815),i=n(80635),s=n(44278);const c=o.default.div`
	position: relative;
	touch-action: none; // Important for mobile drag

	.drag-handle {
		position: absolute;
		left: -30px;
		top: 20px; // Align with accordion header
		height: 24px;
		width: 24px;
		display: flex;
		align-items: center;
		justify-content: center;
		color: #747474;
		cursor: grab;
		transition: color 0.2s ease;
		z-index: 10;
		background: white; // Optional: add background to ensure visibility

		&:hover {
			color: #40a9ff;
		}

		&.dragging {
			cursor: grabbing;
		}
	}

	&.dragging {
		z-index: 1;
		.etn-schedule-topic {
			background: white;
			box-shadow: 0 0 10px rgba( 0, 0, 0, 0.1 );
		}
	}
`;function m({id:e,field:t,remove:n,form:o}){const{attributes:m,listeners:d,setNodeRef:u,transform:p,transition:g,isDragging:h}=(0,r.gl)({id:e,transition:{duration:150,easing:"cubic-bezier(0.25, 1, 0.5, 1)"}}),_={transform:l.Ks.Transform.toString(p),transition:g};return(0,a.createElement)(c,{ref:u,style:_,className:h?"dragging":""},(0,a.createElement)("div",{className:"drag-handle "+(h?"dragging":""),...m,...d},(0,a.createElement)(i.A,null)),(0,a.createElement)(s.A,{field:t,remove:n,form:o}))}},93015:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(51609),r=n(15871),l=n(43627),o=n(69815),i=n(64463);const s=o.default.div`
	margin-left: 30px;
	position: relative;

	.etn-schedule-topic {
		margin: 15px 0;
		transition: transform 200ms ease;
	}

	.etn-schedule-topic:first-of-child {
		margin-top: 0;
	}

	.etn-schedule-topic:last-child {
		margin-bottom: 0;
	}
`,c=({fields:e,form:t,remove:n})=>{const o=(0,r.FR)((0,r.MS)(r.AN,{activationConstraint:{distance:1}}),(0,r.MS)(r.uN,{coordinateGetter:l.JR}));return(0,a.createElement)(s,null,(0,a.createElement)(r.Mp,{sensors:o,collisionDetection:r.fp,onDragEnd:n=>{const{active:a,over:r}=n;if(r&&a.id!==r.id){const n=e.findIndex((e=>e.key===a.id)),o=e.findIndex((e=>e.key===r.id)),i=t.getFieldValue("schedule_slot");if(i){const e=(0,l.be)(i,n,o);t.setFieldsValue({schedule_slot:e})}const s=(0,l.be)(e,n,o);e.splice(0,e.length,...s)}}},(0,a.createElement)(l.gB,{items:e.map((e=>e.key)),strategy:l._G},e.map((e=>(0,a.createElement)(i.X,{key:e.key,id:e.key,field:e,remove:n,form:t}))))))}}}]);